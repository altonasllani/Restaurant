<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Login & Register</title>
  <link rel="stylesheet" href="login.css">
  <link rel="stylesheet" href="header.css">
  <script defer src="script.js"></script>
</head>
<body>
  <header class="header">
    <div class="container">
        <!-- Logo -->
        <div class="logo">
            <h2><a href="index.html">Restaurant</a></h2>
        </div>
        
        <!-- Menu Toggle Button for Mobile -->
        <div class="toggle-button" id="toggle-menu">
            <div></div>
            <div></div>
            <div></div>
        </div>

        <!-- Navigation -->
        <nav class="nav" id="nav">
            <button class="close-button" id="close-menu">&times;</button>
            <ul class="nav-list">
                <li><a href="index.html" class="nav-link">Home</a></li>
                <li><a href="menu.html" class="nav-link">Menu</a></li>
                <li><a href="reservations.html" class="nav-link">Reservations</a></li>
                <li><a href="about.html" class="nav-link">About US</a></li>
                <li><a href="login.html" class="login-button">Login</a></li>
            </ul>
        </nav>
        
    </div>
</header>
</body>
<main>

  <div class="wrapper">
    <!-- Login Form -->
    <form class="form login-form" action="" id="loginForm">
        <h1>Login</h1>
        <div class="input-box">
          <input type="text" placeholder="Username" required id="loginUsername">
        </div>
        <div class="input-box">
          <input type="password" placeholder="Password" required id="loginPass">
        </div>
        <button type="submit" class="btn">Login</button>
        <div class="register-link">
          <p>Don't have an account? <a href="#" id="switch-to-register">Register</a></p>
        </div>
    </form>

    <!-- Register Form -->
    <form class="form register-form" action="" style="display: none;" id="registerForm">
        <h1>Register</h1>
        <div class="input-box">
          <input id="registerUsername" type="text" placeholder="Username" required>
        </div>
        <div class="input-box">
          <input id="email" type="email" placeholder="Email Address" required>
        </div>
        <div class="input-box">
          <input id="registerPass" type="password" placeholder="Password" required >
        </div>
        <div class="input-box">
          <input id="registerConfirmPass" type="password" placeholder="Confirm Password" required>
        </div>
        <button type="submit" class="btn">Register</button>
        <div class="register-link">
          <p>Already have an account? <a href="#" id="switch-to-login">Login</a></p>
        </div>
    </form>
  </div>
</main>

  <script>
    const loginForm = document.getElementById("loginForm");
    const registerForm = document.getElementById("registerForm");
    const switchToRegister = document.getElementById("switch-to-register");
    const switchToLogin = document.getElementById("switch-to-login");

    switchToRegister.addEventListener('click', (e) => {
      e.preventDefault();
      loginForm.style.display = 'none';
      registerForm.style.display = 'block';
    });

    switchToLogin.addEventListener('click', (e) => {
      e.preventDefault();
      loginForm.style.display = 'block';
      registerForm.style.display = 'none';

    });

    document.addEventListener("DOMContentLoaded", () => {
    
    function validatePassword(password) {
      const minLength = 8;
      const maxLength = 20;
      const hasLetter = /[a-zA-Z]/.test(password);
      const hasNumber = /[0-9]/.test(password);

      if (password.length < minLength || password.length > maxLength) {
         return false;
      }
      if (!hasLetter || !hasNumber) {
         return false;
      }
      return true; 
   }
   

   // Form validation
   loginForm.addEventListener("submit", (e) => {
     e.preventDefault();
     
        const username = document.getElementById("loginUsername");
        const password = document.getElementById("loginPass");

        if (!username.value.trim()) {
            alert("Username is required.");
            return;
        }

        if (!password.value.trim() || !validatePassword(password.value)) {
            alert("Password is not valid.");
            return;
        }

        alert("Login successful!");
    });

    registerForm.addEventListener("submit", (e) => {
      e.preventDefault();
        const username = document.getElementById("registerUsername");
        const email = document.getElementById("email")
        const password = document.getElementById("registerPass");
        const confirmPassword = document.getElementById("registerConfirmPass");

        if (!username.value.trim()) {
            alert("Username is required.");
            return;
        }


        if (!email.value.trim() ||!validateEmail(email.value.trim())) {
            alert("Valid email address is required.");
            return;
        }

        if (!password.value.trim() || !validatePassword(password.value)) {
            alert("Password is not valid.");
            return;
        }

        if (password.value.trim() !== confirmPassword.value.trim()) {
            alert("Passwords do not match.");
            return;
        }

        window.location.href = "login.html";
        alert("Registration successful!");
    });

    function validateEmail(email) {
        const emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
        return emailRegex.test(email);
    }

});

  </script>
</html>